<div class="p-8">
  <h1 class="text-3xl font-bold mb-8">Users Management</h1>

  <div class="bg-white rounded-xl shadow-md overflow-hidden">
    <table class="w-full">
      <thead class="bg-gray-50">
        <tr>
          <th class="text-left py-4 px-6">User</th>
          <th class="text-left py-4 px-6">Email</th>
          <th class="text-left py-4 px-6">Role</th>
          <th class="text-left py-4 px-6">Status</th>
          <th class="text-left py-4 px-6">Actions</th>
        </tr>
      </thead>

      <tbody>
        <tr
          *ngFor="let user of users; trackBy: trackById"
          class="border-b hover:bg-gray-50"
        >
          <td class="py-4 px-6 font-medium">{{ user.fullName }}</td>
          <td class="py-4 px-6">{{ user.email }}</td>
          <td class="py-4 px-6">{{ user.role ?? "N/A" }}</td>
          <td class="py-4 px-6">
            <span
              class="font-semibold"
              [class.text-green-600]="user.status === 'IsActive'"
              [class.text-red-600]="user.status === 'IsLocked'"
            >
              {{ user.status === "IsActive" ? "active" : "banned" }}
            </span>
          </td>
          <td class="py-4 px-6">
            <ng-container *ngIf="user.role !== 'admin'">
              <button
                *ngIf="user.status === 'IsActive'; else unbanBtn"
                (click)="banUser(user.id)"
                class="px-3 py-1 bg-red-100 text-red-600 rounded-lg text-sm hover:bg-red-200"
              >
                Ban
              </button>
              <ng-template #unbanBtn>
                <button
                  (click)="unbanUser(user.id)"
                  class="px-3 py-1 bg-green-100 text-green-600 rounded-lg text-sm hover:bg-green-200"
                >
                  Unban
                </button>
              </ng-template>
            </ng-container>
          </td>
        </tr>
      </tbody>
    </table>

    <!-- Pagination -->
    <div
      *ngIf="totalPages > 1"
      class="flex items-center justify-center gap-2 px-6 py-4 border-t bg-gray-50"
    >
      <button
        (click)="goToPage(currentPage - 1)"
        [disabled]="currentPage === 1"
        class="px-3 py-1.5 text-sm bg-white border border-gray-300 rounded-lg"
      >
        Prev
      </button>

      <button
        *ngFor="let page of pageNumbers"
        (click)="goToPage(page)"
        [class.bg-rose-600]="page === currentPage"
        [class.text-white]="page === currentPage"
        class="px-3 py-1.5 text-sm border border-gray-300 rounded-lg hover:bg-rose-100 font-medium"
      >
        {{ page }}
      </button>

      <button
        (click)="goToPage(currentPage + 1)"
        [disabled]="currentPage === totalPages"
        class="px-3 py-1.5 text-sm bg-white border border-gray-300 rounded-lg"
      >
        Next
      </button>
    </div>
  </div>
</div>
